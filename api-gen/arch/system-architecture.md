# OpenAPI Generator Demo 系统架构设计

## 🎯 系统概述

本项目是一个基于 OpenAPI Generator 的多模块学习演示系统，采用微服务架构设计，包含四个核心模块：公共模块、用户服务、菜单服务和权限服务。

## 📋 模块职责划分

### 1. Common 模块
**职责**：公共数据模型和工具类提供者
- **主要功能**：
  - 提供通用数据结构 (ApiResponse, PageResult, ErrorCode 等)
  - 提供基础数据类型 (UserId, MenuId, PermissionId 等)
  - 提供通用异常和错误处理结构
  - 提供通用工具类和常量定义
- **代码生成规则**：只生成 Model 类，不生成 API 接口
- **被依赖方式**：被所有服务模块依赖

### 2. User Service 模块
**职责**：用户生命周期管理
- **主要功能**：
  - 用户注册、登录、登出
  - 用户基本信息管理 (增删改查)
  - 用户状态管理 (激活、禁用、锁定)
  - 用户列表分页查询
  - 用户角色关联管理
- **业务边界**：用户身份认证和基础信息管理
- **对外接口**：提供用户信息查询 API 供其他服务调用

### 3. Menu Service 模块
**职责**：系统菜单和导航管理
- **主要功能**：
  - 菜单的增删改查操作
  - 菜单树形结构管理
  - 菜单层级关系维护
  - 菜单与权限的关联管理
  - 用户菜单权限计算
- **业务边界**：系统导航结构和菜单权限控制
- **对外接口**：提供菜单树查询和权限验证 API

### 4. Permission Service 模块
**职责**：权限和角色管理
- **主要功能**：
  - 权限的增删改查操作
  - 角色的增删改查操作
  - 用户-角色关联管理
  - 角色-权限关联管理
  - 权限验证和授权判断
- **业务边界**：系统权限控制和角色管理
- **对外接口**：提供权限验证和角色管理 API

## 🔗 模块依赖关系

### 编译时依赖
```
common 模块
    ↑
    ├── user-service (依赖 common)
    ├── menu-service (依赖 common)
    └── permission-service (依赖 common)
```

### 运行时服务调用
```
用户前端请求
    ↓
user-service ←→ permission-service (权限验证)
    ↓               ↓
menu-service ←→ permission-service (菜单权限)
```

## 🎨 架构特点

### 优势
1. **模块化设计**：每个服务职责单一，边界清晰
2. **代码复用**：common 模块避免重复定义
3. **技术统一**：使用 OpenAPI Generator 统一生成代码
4. **易于扩展**：新增服务只需添加新模块
5. **学习友好**：适合学习 OpenAPI 和微服务架构

### 设计原则
1. **单一职责**：每个模块只负责一个业务领域
2. **依赖倒置**：服务模块依赖抽象的 common 接口
3. **开闭原则**：对扩展开放，对修改关闭
4. **接口隔离**：每个服务只暴露必要的接口

## 🚀 技术栈

- **框架**：Spring Boot 3.2.0
- **API规范**：OpenAPI 3.0
- **代码生成**：OpenAPI Generator 7.2.0
- **构建工具**：Maven 3.x
- **Java版本**：JDK 17

## 📝 下一步工作

1. 设计详细的 API 规范 (YAML 文件)
2. 配置 OpenAPI Generator 插件
3. 生成和验证代码
4. 实现业务逻辑
5. 集成测试和文档完善 